CREATE TABLE PROJECTS(
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CREATIONDATE TIMESTAMP NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    USER_ID INT,
    DESCRIPTION CHARACTER LARGE OBJECT NOT NULL,
    FUNDSIZE INTEGER NOT NULL,
    STARTDATE TIMESTAMP NOT NULL,
    ENDDATE TIMESTAMP NOT NULL
);

CREATE TABLE PROJECTINVESTMENTS(
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CREATIONDATE TIMESTAMP NOT NULL,
    PROJECT_ID INT,
    NAME VARCHAR(100) DEFAULT 'Anonymous',
    FEEDBACK VARCHAR(150) DEFAULT 'None',
    AMOUNT INT NOT NULL
);

CREATE TABLE USERS(
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CREATIONDATE TIMESTAMP NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    PASSWORD VARBINARY(100) NOT NULL,
    USERTYPE_ID INTEGER NOT NULL,
    FEEDBACK VARCHAR(150) NOT NULL
);

CREATE TABLE USERTYPES(
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR(100) NOT NULL
);

ALTER TABLE PROJECTS
ADD CONSTRAINT PROJECTS_ID_FK
FOREIGN KEY (USER_ID) REFERENCES USERS;

ALTER TABLE PROJECTINVESTMENTS
ADD CONSTRAINT PROJECTINVESTMENTS_ID_FK
FOREIGN KEY (PROJECT_ID) REFERENCES PROJECTS;

ALTER TABLE USERS
ADD CONSTRAINT USERS_ID_FK
FOREIGN KEY (USERTYPE_ID) REFERENCES USERTYPES;

INSERT INTO USERTYPES (name) VALUES ('Authorized');
INSERT INTO USERTYPES (name) VALUES ('Businessman');